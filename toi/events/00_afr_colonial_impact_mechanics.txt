add_namespace = afr_rrp
add_namespace = afr_rrp_weapon_contract
add_namespace = afr_rrp_racial_tension_increase
add_namespace = afr_rrp_racial_tension_decrease
add_namespace = afr_total_detrimental_colonial_level


add_namespace = DCI_african_colonial_incident_mission_event
add_namespace = DCI_american_south_incident_mission_event
add_namespace = DCI_native_american_incident_mission_event
add_namespace = DCI_south_american_slave_coast_incident_mission_event
add_namespace = DCI_irish_incident_mission_event


country_event = {
	id = DCI_american_south_incident_mission_event.1
	hidden = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = { clr_country_flag = DCI_american_south_incident_mission_stop }
	}
}

country_event = {
	id = DCI_native_american_incident_mission_event.1
	hidden = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = { clr_country_flag = DCI_native_american_incident_mission_stop }
	}
}

country_event = {
	id = DCI_south_american_slave_coast_incident_mission_event.1
	hidden = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = { clr_country_flag = DCI_south_american_slave_coast_incident_mission_stop }
	}
}

country_event = {
	id = DCI_irish_incident_mission_event.1
	hidden = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = { clr_country_flag = DCI_irish_incident_mission_stop }
	}
}

###########################
# DCI Random Events
###########################

state_event = {
	id = DCI_american_south_incident_event.1
	title = DCI_american_south_incident_event.1.t
	desc = DCI_american_south_incident_event.1.d
	#picture = GFX_Muhammad
	is_triggered_only = yes
	
	trigger = {
		FROM = { check_variable = { var = detrimental_colonial_impact_value value = 10 compare = greater_than_or_equals } }
	}
	
	option = {
		name = DCI_american_south_incident_event.1.a
		ai_chance = { factor = 1}
	}
	
	option = {
		name = DCI_american_south_incident_event.1.b
		ai_chance = { factor = 1}
	}
}

state_event = {
	id = DCI_native_american_incident_event.1
	title = DCI_native_american_incident_event.1.t
	desc = DCI_native_american_incident_event.1.d
	#picture = GFX_Muhammad
	is_triggered_only = yes
	
	trigger = {
		FROM = { check_variable = { var = detrimental_colonial_impact_value value = 10 compare = greater_than_or_equals } }
	}
	
	option = {
		name = DCI_native_american_incident_event.1.a
		ai_chance = { factor = 1}
	}
	
	option = {
		name = DCI_native_american_incident_event.1.b
		ai_chance = { factor = 1}
	}
}

state_event = {
	id = DCI_south_american_slave_coast_incident_event.1
	title = DCI_south_american_slave_coast_incident_event.1.t
	desc = DCI_south_american_slave_coast_incident_event.1.d
	#picture = GFX_Muhammad
	is_triggered_only = yes
	
	trigger = {
		FROM = { check_variable = { var = detrimental_colonial_impact_value value = 10 compare = greater_than_or_equals } }
	}
	
	option = {
		name = DCI_south_american_slave_coast_incident_event.1.a
		ai_chance = { factor = 1}
	}
	
	option = {
		name = DCI_south_american_slave_coast_incident_event.1.b
		ai_chance = { factor = 1}
	}
}

state_event = {
	id = DCI_irish_incident_event.1
	title = DCI_irish_incident_event.1.t
	desc = DCI_irish_incident_event.1.d
	#picture = GFX_Muhammad
	is_triggered_only = yes
	
	trigger = {
		FROM = { check_variable = { var = detrimental_colonial_impact_value value = 10 compare = greater_than_or_equals } }
	}
	
	option = {
		name = DCI_irish_incident_event.1.a
		ai_chance = { factor = 1}
	}
	
	option = {
		name = DCI_irish_incident_event.1.b
		ai_chance = { factor = 1}
	}
}


#This is Detrimental Colonial Impact DCI
state_event = {
	id = afr_rrp_racial_tension_increase.1
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_1
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 1 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 1 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 1 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 1 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.2
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_2
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 2 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 2 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 2 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 2 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.3
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_3
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 3 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 3 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 3 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 3 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.4
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_4
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 4 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 4 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 4 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 4 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.5
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_5
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 5 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 5 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 5 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 5 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.6
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_6
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 6 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 6 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 6 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 6 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.7
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_2
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 7 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 7 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 7 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 27 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.8
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_3
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 8 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 8 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 8 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 8 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.9
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_4
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 9 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 9 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 9 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 9 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.10
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_plus_5
		trigger = { always = yes }
		OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 10 } }
		add_to_variable = { var = ROOT.detrimental_colonial_impact_value value = 10 }
		ROOT = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 10 } } }
		}
		else = {
			OWNER = { add_to_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 10 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.1
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_minus_1
		trigger = { always = yes }
		OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 1 } }
		subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value value = 1 }
		ROOT = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 1 } } }
		}
		else = {
			OWNER = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 1 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.2
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_minus_2
		trigger = { always = yes }
		OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 2 } }
		subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value value = 2 }
		ROOT = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 2 } } }
		}
		else = {
			OWNER = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 2 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.3
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_minus_3
		trigger = { always = yes }
		OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 3 } }
		subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value value = 3 }
		ROOT = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 3 } } }
		}
		else = {
			OWNER = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 3 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.4
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_minus_4
		trigger = { always = yes }
		OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 4 } }
		subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value value = 4 }
		ROOT = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 4 } } }
		}
		else = {
			OWNER = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 4 } }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.5
	
	is_triggered_only = yes
	hidden = yes
	timeout_days = 1
	option = {
		name = AFR_Racial_Tension_minus_4
		trigger = { always = yes }
		OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 5 } }
		subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value value = 5 }
		ROOT = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
		if = {
			limit = { OWNER = { is_subject = yes } }
			OWNER = { OVERLORD = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 5 } } }
		}
		else = {
			OWNER = { subtract_from_variable = { var = ROOT.detrimental_colonial_impact_value@THIS value = 5 } }
		}
	}
}