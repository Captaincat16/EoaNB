add_namespace = afr_empire_politics_test_event
add_namespace = afr_caliphate_integration_tribe
add_namespace = afr_caliphate_integration_kingdom
add_namespace = afr_inward_integration_tribe
add_namespace = afr_inward_integration_kingdom
add_namespace = afr_integration_tribe_warning
add_namespace = afr_inward_integration_tribe_warning
add_namespace = afr_integration_tribe_raid_supply
add_namespace = afr_integration_tribe_poison_provisions
add_namespace = afr_war_exhaustion_exertion
add_namespace = afr_request_overlord_assistance
add_namespace = afr_empire_politics_subject_levy_mission_event
add_namespace = afr_empire_politics_subject_levy_mission_event_global
add_namespace = afr_empire_politics_subject_send_tribute_to_overlord_event
add_namespace = afr_empire_politics_state_manager_event
add_namespace = afr_empire_politics_state_manager_officials_event
add_namespace = afr_empire_politics_state_manager_local_rumors_event
add_namespace = afr_empire_politics_state_manager_market_event
add_namespace = afr_empire_politics_state_manager_market_luxury_event
add_namespace = afr_empire_politics_successful_raid_event
add_namespace = afr_empire_politics_regional_development_boom_event
add_namespace = afr_empire_politics_bountiful_harvest_boom_event
add_namespace = afr_empire_politics_minor_economic_boom_event
add_namespace = afr_peacetime_state_prosperity_growth_event
add_namespace = afr_empire_politics_successful_remove_war_torn_event
add_namespace = afr_empire_politics_subject_promotion_demand
add_namespace = afr_empire_politics_subject_demotion_demand

######################################
#####Subject/Overlord Autonomy Events#
######################################
#####Demand Promotion
	country_event = {
		id = afr_empire_politics_subject_promotion_demand.1
		title = afr_empire_politics_subject_promotion_demand.1.t
		desc = afr_empire_politics_subject_promotion_demand.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#Accept Promotion
		option = {
			name = afr_empire_politics_subject_promotion_demand.1.a
			ai_chance = {
				base = 25
				modifier = {
					add = 50
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 6 compare = greater_than_or_equals }
				}
				modifier = {
					add = -50
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 9 compare = greater_than_or_equals }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
				}
				modifier = {
					add = 50
					FROM = { check_variable = { var = Tribal_army_num value > 4999 } }
				}
				modifier = {
					add = 50
					FROM = { check_variable = { var = Tribal_horse_army_num value > 4999 } }
				}
				modifier = {
					add = 50
					FROM = { check_variable = { var = Tribal_camel_army_num value > 4999 } }
				}
			}
			#gain loyalty
			FROM = { custom_effect_tooltip = afr_empire_subject_loyalty_add_2 }
			hidden_effect = {
				add_to_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 2 }
				clamp_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT min = -1 max = 10 }
			}
			FROM = { country_event = { id = afr_empire_politics_subject_promotion_demand.2 days = 3 } }
			#Subject Promoted
			if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_free
				}
			}
			else_if = {
				limit = {
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_4
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 350
							localization = afr_empire_politics_overlord_permitted_promotion_demand
						}
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_3
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 350
							localization = afr_empire_politics_overlord_permitted_promotion_demand
						}
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_2
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 350
							localization = afr_empire_politics_overlord_permitted_promotion_demand
						}
					}
				}
			}
			else = {
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_free
				}
			}
		}
		
		#Reject Promotion
		option = {
			name = afr_empire_politics_subject_promotion_demand.1.b
			ai_chance = {
				base = 50
				modifier = {
					add = 25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 5 compare = less_than_or_equals }
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 3 compare = greater_than_or_equals }
				}
				modifier = {
					add = -25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 3 compare = less_than_or_equals }
				}
				modifier = {
					add = 25
					if = {
						limit = { 
							OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						}
						FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
					}
					else = {
						always = yes
					}
				}
			}
			#lose loyalty
			FROM = { custom_effect_tooltip = afr_empire_subject_loyalty_minus_3 }
			hidden_effect = {
				add_to_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = -3 }
				clamp_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT min = -1 max = 10 }
			}
			FROM = {
				add_autonomy_score = {
					value = 400
					localization = afr_empire_politics_overlord_rejected_promotion_demand
				}
			}
			FROM = { country_event = { id = afr_empire_politics_subject_promotion_demand.3 days = 3 } }
		}
	}
	
	#Overlord Accepts Promotion
	country_event = {
		id = afr_empire_politics_subject_promotion_demand.2
		title = afr_empire_politics_subject_promotion_demand.2.t
		desc = afr_empire_politics_subject_promotion_demand.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_promotion_demand.2.a
			
		}
		
	}
	
	#Overlord Rejects Promotion
	country_event = {
		id = afr_empire_politics_subject_promotion_demand.3
		title = afr_empire_politics_subject_promotion_demand.3.t
		desc = afr_empire_politics_subject_promotion_demand.3.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_promotion_demand.3.b
		}
	}

#####Demand Demotion
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.1
		title = afr_empire_politics_subject_demotion_demand.1.t
		desc = afr_empire_politics_subject_demotion_demand.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#accept demotion
		option = {
			name = afr_empire_politics_subject_demotion_demand.1.a
			ai_chance = {
				base = 25
				modifier = {
					add = 50
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 compare = greater_than_or_equals }
				}
				modifier = {
					add = 15
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 9 compare = greater_than_or_equals }
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.2 days = 3 } } }
			#gain loyalty
			custom_effect_tooltip = afr_empire_subject_loyalty_add_1
			hidden_effect = {
				add_to_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 1 }
				clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
			}
			#Subject demoted
			if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_4
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -300
						localization = afr_empire_politics_overlord_demotion_demand
					}
				}
			}
			else_if = {
				limit = {
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_3
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_2
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -300
						localization = afr_empire_politics_overlord_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_2
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_1
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -300
						localization = afr_empire_politics_overlord_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_1
				}
				hidden_effect = {
					if = {
						limit = { ROOT = { has_variable = Tribal_army_num } }
						add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_horse_army_num } }
						add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_camel_army_num } }
						add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
					}
				}
				FROM = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
			}
			else = {
				if = {
					limit = { is_subject_of = FROM }
					hidden_effect = {
						if = {
							limit = { ROOT = { has_variable = Tribal_army_num } }
							add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_horse_army_num } }
							add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_camel_army_num } }
							add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
						}
					}
					FROM = {
						annex_country = {
							target = ROOT
							transfer_troops = yes
						}
					}
				}
			}
		}
		
		#reject demotion
		option = {
			name = afr_empire_politics_subject_demotion_demand.1.b
			ai_chance = {
				base = 25
				modifier = {
					add = 25
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 compare = less_than_or_equals }
				}
				modifier = {
					add = 50
					check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 2 compare = less_than_or_equals }
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.3 days = 3 } } }
		}
	}
	
	#Subject Accepts Demotion
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.2
		title = afr_empire_politics_subject_demotion_demand.2.t
		desc = afr_empire_politics_subject_demotion_demand.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.2.a
			
		}
		
	}
	
	#Subject Rejects Demotion
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.3
		title = afr_empire_politics_subject_demotion_demand.3.t
		desc = afr_empire_politics_subject_demotion_demand.3.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#Conceded Demotion Demand
		option = {
			name = afr_empire_politics_subject_demotion_demand.3.a
			ai_chance = {
				base = 25
				modifier = {
					add = 25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 9 compare = greater_than_or_equals }
				}
				modifier = {
					add = 45
					FROM = { check_variable = { var = Tribal_army_num value > 4999 } }
				}
				modifier = {
					add = 45
					FROM = { check_variable = { var = Tribal_horse_army_num value > 4999 } }
				}
				modifier = {
					add = 45
					FROM = { check_variable = { var = Tribal_camel_army_num value > 4999 } }
				}
			}
			hidden_effect = {
				FROM = {
					add_autonomy_score = {
						value = 500
						localization = afr_empire_politics_overlord_conceded_demotion_demand
					}
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.4 days = 3 } } }
			#subject gains autonomy
			custom_effect_tooltip = afr_empire_politics_subject_demotion_demand_3_tooltip
		}
		
		#Enforce Demotion Demand
		option = {
			name = afr_empire_politics_subject_demotion_demand.3.b
			ai_chance = {
				base = 50
				modifier = {
					add = 25
					check_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = 2 compare = less_than_or_equals }
				}
				modifier = {
					add = 25
					AND = {
						FROM = { check_variable = { var = Tribal_army_num value < 5000 } }
						FROM = { check_variable = { var = Tribal_horse_army_num value < 5000 } }
						FROM = { check_variable = { var = Tribal_camel_army_num value < 5000 } }
					}
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.5 days = 3 } } }
			FROM = { custom_effect_tooltip = afr_empire_subject_loyalty_minus_2 }
			hidden_effect = {
				add_to_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT value = -2 }
				clamp_variable = { var = FROM.afr_empire_subject_loyalty_var@ROOT min = -2 max = 10 }
			}
		}
	}
	
	#Overlord Conceded Demotion Demand
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.4
		title = afr_empire_politics_subject_demotion_demand.4.t
		desc = afr_empire_politics_subject_demotion_demand.4.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.4.a
			
		}
		
	}
	
	#Overlord Enforces Demotion Demand
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.5
		title = afr_empire_politics_subject_demotion_demand.5.t
		desc = afr_empire_politics_subject_demotion_demand.5.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		#Accept Demotion
		option = {
			name = afr_empire_politics_subject_demotion_demand.5.a
			ai_chance = {
				base = 50
				modifier = {
					add = 25
					check_variable = { var = Tribal_army_num value < 10000 }
					check_variable = { var = Tribal_horse_army_num value < 10000 }
					check_variable = { var = Tribal_camel_army_num value < 10000 }
				}
			}
			#Subject demoted
			if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_4
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_3
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -600
						localization = afr_empire_politics_overlord_enforces_demotion_demand
					}
				}
			}
			else_if = {
				limit = {
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_3
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_2
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -600
						localization = afr_empire_politics_overlord_enforces_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_2
				}
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_1
					}
				}
				hidden_effect = {
					add_autonomy_score = {
						value = -600
						localization = afr_empire_politics_overlord_enforces_demotion_demand
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					has_autonomy_state = autonomy_afr_empire_level_1
				}
				hidden_effect = {
					if = {
						limit = { ROOT = { has_variable = Tribal_army_num } }
						add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_horse_army_num } }
						add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
					}
					if = {
						limit = { ROOT = { has_variable = Tribal_camel_army_num } }
						add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
					}
				}
				FROM = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
			}
			else = {
				if = {
					limit = { is_subject_of = FROM }
					hidden_effect = {
						if = {
							limit = { ROOT = { has_variable = Tribal_army_num } }
							add_to_variable = { var = FROM.Tribal_army_num value = ROOT.Tribal_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_horse_army_num } }
							add_to_variable = { var = FROM.Tribal_horse_army_num value = ROOT.Tribal_horse_army_num }
						}
						if = {
							limit = { ROOT = { has_variable = Tribal_camel_army_num } }
							add_to_variable = { var = FROM.Tribal_camel_army_num value = ROOT.Tribal_camel_army_num }
						}
					}
					FROM = {
						annex_country = {
							target = ROOT
							transfer_troops = yes
						}
					}
				}
			}
		}
		
		#Resist through war
		option = {
			name = afr_empire_politics_subject_demotion_demand.5.b
			trigger = { 
				check_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 2 compare = less_than_or_equals }
			}
			ai_chance = {
				base = 50
				modifier = {
					add = -25
					AND = {
						check_variable = { var = Tribal_army_num value < 10000 }
						check_variable = { var = Tribal_horse_army_num value < 10000 }
						check_variable = { var = Tribal_camel_army_num value < 10000 }
					}
				}
			}
			#Start Resistance War
			custom_effect_tooltip = afr_empire_politics_subject_demotion_demand_5_revolt_tooltip
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.6 days = 3 } } }
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.6
		title = afr_empire_politics_subject_demotion_demand.6.t
		desc = afr_empire_politics_subject_demotion_demand.6.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.6.a
			ai_chance = {
				base = 75
				modifier = {
					add = 25
					AND = {
						FROM = { check_variable = { var = Tribal_army_num value < 10000 } }
						FROM = { check_variable = { var = Tribal_horse_army_num value < 10000 } }
						FROM = { check_variable = { var = Tribal_camel_army_num value < 10000 } }
					}
				}
			}
			custom_effect_tooltip = afr_empire_politics_subject_demotion_demand_6_revolt_tooltip
			hidden_effect = {
				#Overlord
				set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_overlord_id = ROOT.id }
				set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_id = FROM.id }
				if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 1 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 2 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 3 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
					}
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 4 }
				}
				else = {
					set_variable = { ROOT.afr_empire_politics_autonomy_revolt_overlord_temp_subject_level@FROM = 5 }
				}
				
				
				#Subject
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_overlord_id = ROOT.id }
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_id = FROM.id }
				if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 1 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 2 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 3 }
				}
				else_if = {
					limit = {
						OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
						FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
					}
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 4 }
				}
				else = {
					set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_temp_subject_level@ROOT = 5 }
				}
				
				#Overlord Mission
				#set_country_flag = afr_empire_politics_autonomy_revolt_overlord_perspective_flag
				
				#Subject Mission
				FROM = { set_country_flag = afr_empire_politics_autonomy_revolt_subject_perspective_flag }
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_perspective_var@ROOT = 1 }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 90 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 180 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 270 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 360 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 450 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 540 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 630 } }
				FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.8 days = 720 } }
				every_country = {
					limit = { is_subject_of = ROOT }
					FROM = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.6.b
			ai_chance = {
				base = 25
			}
			#Subject Promoted
			if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_4 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_free
				}
			}
			else_if = {
				limit = {
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_3 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_4
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 800
							localization = afr_empire_politics_overlord_revolted_for_promotion
						}
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_2 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_3
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 800
							localization = afr_empire_politics_overlord_revolted_for_promotion
						}
					}
				}
			}
			else_if = {
				limit = { 
					OR = { has_dlc = "Together for Victory" has_dlc = "Waking the Tiger" has_dlc = "Death or Dishonor" }
					FROM = { has_autonomy_state = autonomy_afr_empire_level_1 }
				}
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_afr_empire_level_2
				}
				hidden_effect = {
					FROM = {
						add_autonomy_score = {
							value = 800
							localization = afr_empire_politics_overlord_revolted_for_promotion
						}
					}
				}
			}
			else = {
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_free
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.7 } } }
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.7
		title = afr_empire_politics_subject_demotion_demand.7.t
		desc = afr_empire_politics_subject_demotion_demand.7.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.7.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.8
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.9 } }
		}
		
	}
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.9
		title = afr_empire_politics_subject_demotion_demand.9.t
		desc = afr_empire_politics_subject_demotion_demand.9.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		trigger = {
			check_variable = { var = FROM.afr_empire_politics_autonomy_revolt_subject_perspective_var@ROOT value = 1 compare = equals }
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.9.a
			ai_chance = {
				base = 0
			}
			FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.10 } }
			hidden_effect = {
				set_variable = { FROM.afr_empire_politics_autonomy_revolt_subject_war_overlord_concedes@ROOT = 1 }
			}
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.9.b
			ai_chance = {
				base = 25
				modifier = {
					add = 75
					FROM = {
						any_neighbor_country = {
							OR = {
								TAG = ROOT
								AND = {
									is_neighbor_of = ROOT
									OR = {
										is_subject_of = ROOT
										is_in_faction_with = ROOT
									}
								}
							}
						}
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 10
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 20
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 30
					}
				}
				modifier = {
					add = -25
					check_variable = {
						afr_war_exhaustion_value > 39
					}
				}
			}
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.10
		title = afr_empire_politics_subject_demotion_demand.10.t
		desc = afr_empire_politics_subject_demotion_demand.10.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.10.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.11
		title = afr_empire_politics_subject_demotion_demand.11.t
		desc = afr_empire_politics_subject_demotion_demand.11.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = {
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.12 } } }
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.11.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.12
		title = afr_empire_politics_subject_demotion_demand.12.t
		desc = afr_empire_politics_subject_demotion_demand.12.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.12.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.13
		title = afr_empire_politics_subject_demotion_demand.13.t
		desc = afr_empire_politics_subject_demotion_demand.13.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		immediate = {
			hidden_effect = { FROM = { country_event = { id = afr_empire_politics_subject_demotion_demand.14 } } }
		}
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.13.a
		}
		
	}
	
	country_event = {
		id = afr_empire_politics_subject_demotion_demand.14
		title = afr_empire_politics_subject_demotion_demand.14.t
		desc = afr_empire_politics_subject_demotion_demand.14.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_subject_demotion_demand.14.a
		}
		
	}


##################
####State Economy#
##################
	country_event = {
		id = afr_empire_politics_test_event.1
		hidden = yes
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_test_event.1.a
			custom_effect_tooltip = afr_prosperity_mechanic_add_10
			add_to_variable = { var = afr_prosperity_mechanic_value value = 10 }
		}
	}

	state_event = {
		id = afr_peacetime_state_prosperity_growth_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = {
				add_to_variable = {
					var = THIS.afr_prosperity_mechanic_value
					value = ROOT.afr_empire_politics_state_prosperity_var
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_successful_remove_war_torn_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_successful_remove_war_torn_event.2 } }
		}
	}
	
	country_event = {
		id = afr_empire_politics_successful_remove_war_torn_event.2
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			FROM= {
				afr_empire_politics_state_gain_stagnant = yes
				afr_empire_politics_state_remove_war_torn = yes
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_successful_raid_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_successful_raid_event.2 } }
		}
	}

	country_event = {
		id = afr_empire_politics_successful_raid_event.2
		title = afr_empire_politics_successful_raid_event.2.t
		desc = afr_empire_politics_successful_raid_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_successful_raid_event.2.a
			hidden_effect = {
				FROM = { state_event = { id = afr_empire_politics_successful_raid_event.3 days = 120 trigger_for = controller } }
				FROM = {
					afr_empire_politics_state_gain_emigration = yes
					afr_empire_politics_state_gain_raided = yes

					clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
					clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
					clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_successful_raid_event.2.b
			trigger = { 
				FROM = { OWNER = { check_variable = { afr_prosperity_mechanic_value > 4 } } }
			}
			hidden_effect = {
				FROM = { state_event = { id = afr_empire_politics_successful_raid_event.3 days = 60 trigger_for = controller } }
				FROM = { 
					afr_empire_politics_state_gain_emigration = yes
					afr_empire_politics_state_gain_recovery = yes
					clr_state_flag = afr_empire_politics_state_economy_status_investment_flag

					clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
					clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
					clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_successful_raid_event.2.c
			trigger = { 
				FROM = { OWNER = { check_variable = { afr_prosperity_mechanic_value > 9 } } }
				FROM = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag } 
			}
			hidden_effect = {
				FROM = { state_event = { id = afr_empire_politics_successful_raid_event.3 days = 60 trigger_for = controller } }
				FROM = { 
					afr_empire_politics_state_gain_emigration = yes
					afr_empire_politics_state_gain_recovery = yes		

					clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
					clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
					clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_successful_raid_event.3
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			ROOT= {
				afr_empire_politics_state_gain_stagnant = yes
				afr_empire_politics_state_gain_none = yes
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_regional_development_boom_event.1
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_has_regional_development_boom_flag } }
		
		immediate = {
			ROOT= {
				clr_state_flag = afr_empire_politics_has_regional_development_boom_flag
				if = {
					limit = {
						NOT = {
							has_state_flag = afr_empire_politics_minor_economic_boom_event_flag
							has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
							has_state_flag = afr_empire_politics_has_regional_development_boom_flag
						}
					}
					afr_empire_politics_state_gain_none = yes
					afr_empire_politics_state_gain_stagnant = yes
					
				}
			}
		}
	}

	state_event = {
		id = afr_empire_politics_bountiful_harvest_boom_event.1
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag } }
		
		immediate = {
			ROOT= {
				clr_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
				if = {
					limit = {
						NOT = {
							has_state_flag = afr_empire_politics_minor_economic_boom_event_flag
							has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
							has_state_flag = afr_empire_politics_has_regional_development_boom_flag
						}
					}
					afr_empire_politics_state_gain_none = yes
					afr_empire_politics_state_gain_stagnant = yes
					
				}
			}
		}
	}
	
	state_event = {
		id = afr_empire_politics_minor_economic_boom_event.1
		hidden = yes
		is_triggered_only = yes
		
		trigger = { ROOT = { has_state_flag = afr_empire_politics_minor_economic_boom_event_flag } }
		
		immediate = {
			ROOT= {
				clr_state_flag = afr_empire_politics_minor_economic_boom_event_flag
				if = {
					limit = {
						NOT = {
							has_state_flag = afr_empire_politics_minor_economic_boom_event_flag
							has_state_flag = afr_empire_politics_bountiful_harvest_boom_flag
							has_state_flag = afr_empire_politics_has_regional_development_boom_flag
						}
					}
					afr_empire_politics_state_gain_none = yes
					afr_empire_politics_state_gain_stagnant = yes
					
				}
			}
		}
	}
######################
#####Visit Town Event#
######################
	state_event = {
		id = afr_empire_politics_state_manager_event.1
		title = afr_empire_politics_state_manager_event.1.t
		desc = afr_empire_politics_state_manager_event.1.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_event.1.a
			hidden_effect = { state_event = { id = afr_empire_politics_state_manager_market_event.1 } }
		}
		option = {
			name = afr_empire_politics_state_manager_event.1.b
			hidden_effect = { state_event = { id = afr_empire_politics_state_manager_officials_event.1 } }
		}
		option = {
			name = afr_empire_politics_state_manager_event.1.c
			custom_effect_tooltip = afr_empire_politics_state_manager_event_no_effect
		}
		option = {
			name = afr_empire_politics_state_manager_event.1.e
		}
	}
############################
#####Local Officials Events#
############################
	state_event = {
		id = afr_empire_politics_state_manager_officials_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_officials_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_officials_event.2
		title = afr_empire_politics_state_manager_officials_event.2.t
		desc = afr_empire_politics_state_manager_officials_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_officials_event.2.a
			trigger = { 
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag }
					AND = {
						NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag } 
						NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag }
					}
				}
			}
			hidden_effect = { FROM = { state_event = { id = afr_empire_politics_state_manager_local_rumors_event.1 } } }
			
		}
		option = {
			name = afr_empire_politics_state_manager_officials_event.2.e
		}
	}
########################
#####Local Rumor Events#
########################
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			if = {
				limit = { NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumors_initiated_flag } }
				set_state_flag = afr_empire_politics_state_manager_local_rumors_initiated_flag
				afr_empire_politics_state_manager_local_rumors_initiate_scripted_effect = yes
			}
			OWNER = { country_event = { id = afr_empire_politics_state_manager_local_rumors_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.2
		title = afr_empire_politics_state_manager_local_rumors_event.2.t
		desc = afr_empire_politics_state_manager_local_rumors_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.2.a
			trigger = {
				FROM = {
					OR = {
						has_state_flag = afr_empire_politics_local_rumor_priest_flag_1
						has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1
						has_state_flag = afr_empire_politics_local_rumor_warlord_flag_1
						has_state_flag = afr_empire_politics_local_rumor_noble_flag_1
						has_state_flag = afr_empire_politics_local_rumor_merchant_flag_1
						has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1
						has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1
					}
				}
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag } 
					NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag }
				}
			}
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_local_rumors_event.3 days = 60 trigger_for = controller } 
					set_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
				} 
				set_variable = { var = ROOT.afr_empire_politics_local_rumor_priest_var_1@FROM value = 1 }
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_priest_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_priest_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_shaman_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_warlord_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_warlord_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_noble_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_noble_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_merchant_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_merchant_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_jihadist_var_1@FROM value = 1 }
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1 } }
					set_variable = { var = ROOT.afr_empire_politics_local_rumor_dawah_var_1@FROM value = 1 }
				}
				random_list = {
					40 = {
						FROM = { set_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag }
						modifier = {
							add = 20
							FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						}
					}
					60 = {
						modifier = {
							add = -20
							FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						}
					}
				}
			}
			
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.2.b
			trigger = { FROM = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag } }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_local_rumors_event.6 days = 60 trigger_for = controller } 
					set_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag 
					set_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
				}
				random_list = {
					40 = {
						#Success
						FROM = { set_state_flag = afr_empire_politics_local_rumor_success_flag }
					}
					60 = { 
						#Fail 
					}
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.2.c
			hidden_effect = {
				if = {
					limit = { FROM = { NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag } } }
					FROM = {
						set_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag
						state_event = { id = afr_empire_politics_state_manager_local_rumors_event.5 days = 320 trigger_for = controller }
					}
				}
				if = {
					limit = { FROM = { NOT = { has_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag } } }
					FROM = {
						set_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag
						state_event = { id = afr_empire_politics_state_manager_local_rumors_event.8 days = 30 trigger_for = controller } 
					}
				}
			}
			custom_effect_tooltip = afr_empire_politics_state_manager_local_rumor_ignore_tooltip
		}
		
	}
	#Advisor
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.3
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			set_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag
			state_event = { id = afr_empire_politics_state_manager_local_rumors_event.5 days = 320 trigger_for = controller } 
			OWNER = { country_event = { id = afr_empire_politics_state_manager_local_rumors_event.4 } }
			random_list = {
				20 = { 
					set_state_flag = afr_empire_politics_local_rumor_true_advisor_1 
					modifier = { 
						factor = 2.5
						has_state_flag = afr_empire_politics_state_economy_status_boom_flag
					}
				}
				40 = { 
					set_state_flag = afr_empire_politics_local_rumor_true_advisor_2 
				}
				20 = { 
					set_state_flag = afr_empire_politics_local_rumor_true_advisor_3 
				}
			}
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.4
		title = afr_empire_politics_state_manager_local_rumors_event.4.t
		desc = afr_empire_politics_state_manager_local_rumors_event.4.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.4.a
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag } }
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_priest_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_priest }
					remove_ideas_with_trait = afr_empire_politics_trait_priest
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_shaman }
					remove_ideas_with_trait = afr_empire_politics_trait_shaman
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_dawah }
					remove_ideas_with_trait = afr_empire_politics_trait_dawah
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_priest_1 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_priest_1
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_priest_2 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_priest_2
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_priest_3 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_priest_3
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_shaman_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_shaman }
					remove_ideas_with_trait = afr_empire_politics_trait_shaman
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_dawah }
					remove_ideas_with_trait = afr_empire_politics_trait_dawah
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_priest }
					remove_ideas_with_trait = afr_empire_politics_trait_priest
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_shaman_1 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_shaman_1
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_shaman_2 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_shaman_2
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_shaman_3 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_shaman_3
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_warlord_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_warlord }
					remove_ideas_with_trait = afr_empire_politics_trait_warlord
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_warlord_1 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_warlord_1
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_warlord_2 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_warlord_2
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_warlord_3 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_warlord_3
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_noble_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_noble }
					remove_ideas_with_trait = afr_empire_politics_trait_noble
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_noble_1 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_noble_1
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_noble_2 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_noble_2
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_noble_3 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_noble_3
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_merchant_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_merchant }
					remove_ideas_with_trait = afr_empire_politics_trait_merchant
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_merchant_1 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_merchant_1
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_merchant_2 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_merchant_2
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_merchant_3 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_merchant_3
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_jihadist_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_jihadist }
					remove_ideas_with_trait = afr_empire_politics_trait_jihadist
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_jihadist_1 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_jihadist_1
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_jihadist_2 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_jihadist_2
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_jihadist_3 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_jihadist_3
				}
			}
			else_if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_dawah_flag_1 } }
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_dawah }
					remove_ideas_with_trait = afr_empire_politics_trait_dawah
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_priest }
					remove_ideas_with_trait = afr_empire_politics_trait_priest
				}
				if = {
					limit = { has_idea_with_trait = afr_empire_politics_trait_shaman }
					remove_ideas_with_trait = afr_empire_politics_trait_shaman
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_dawah_1 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_dawah_1
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_dawah_2 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_dawah_2
				}
				else_if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					hidden_effect = { add_ideas = { afr_empire_politics_advisor_dawah_3 } }
					#custom_effect_tooltip = available_political_advisor
					show_ideas_tooltip = afr_empire_politics_advisor_dawah_3
				}
			}
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_1 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_2 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_3 }
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.4.b
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag } }
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_1 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_2 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_3 }
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.4.c
			trigger = { FROM = { NOT = { has_state_flag = afr_empire_politics_local_rumor_searching_advisor_found_flag } } }
			hidden_effect = {
				FROM = { clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag }
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_1 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_1 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_2 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_2 }
				}
				if = {
					limit = { FROM = { has_state_flag = afr_empire_politics_local_rumor_true_advisor_3 } }
					FROM = { clr_state_flag = afr_empire_politics_local_rumor_true_advisor_3 }
				}
			}
		}
	}
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.5
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			if = {
				limit = { has_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag }
				clr_state_flag = afr_empire_politics_state_manager_local_rumor_cooldown_flag
				afr_empire_politics_state_manager_local_rumors_initiate_scripted_effect = yes
			}
		}
	}
	#Non Advisor
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.6
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			set_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag
			state_event = { id = afr_empire_politics_state_manager_local_rumors_event.8 days = 30 trigger_for = controller }
			OWNER = { country_event = { id = afr_empire_politics_state_manager_local_rumors_event.7 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.7
		title = afr_empire_politics_state_manager_local_rumors_event.7.t
		desc = afr_empire_politics_state_manager_local_rumors_event.7.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.7.a
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_success_flag } }
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_success_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.7.b
			trigger = { FROM = { has_state_flag = afr_empire_politics_local_rumor_success_flag } }
			hidden_effect = {
				FROM = {
					clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag
					clr_state_flag = afr_empire_politics_local_rumor_success_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_local_rumors_event.7.c
			trigger = { FROM = { NOT = { has_state_flag = afr_empire_politics_local_rumor_success_flag } } }
			hidden_effect = {
				FROM = { clr_state_flag = afr_empire_politics_state_manager_local_rumor_searching_flag }
			}
		}
	}
	state_event = {
		id = afr_empire_politics_state_manager_local_rumors_event.8
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			if = {
				limit = { has_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag }
				clr_state_flag = afr_empire_politics_state_manager_local_rumor_non_advisor_cooldown_flag
				afr_empire_politics_state_manager_local_rumors_initiate_scripted_effect = yes
			}
		}
	}
###################
#####Market Events#
###################
	state_event = {
		id = afr_empire_politics_state_manager_market_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_market_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_market_event.2
		title = afr_empire_politics_state_manager_market_event.2.t
		desc = afr_empire_politics_state_manager_market_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_market_event.2.a
			trigger = { 
				OR = {
					FROM = { check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } }
					FROM = { check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } }
					FROM = { check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } }
				}
			}
			hidden_effect = { FROM = { state_event = { id = afr_empire_politics_state_manager_market_luxury_event.1 } } }
			
		}
		option = {
			name = afr_empire_politics_state_manager_market_event.2.e
		}
	}
##################
#####Luxury Goods#
##################
	state_event = {
		id = afr_empire_politics_state_manager_market_luxury_event.1
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			OWNER = { country_event = { id = afr_empire_politics_state_manager_market_luxury_event.2 } }
		}
	}
	country_event = {
		id = afr_empire_politics_state_manager_market_luxury_event.2
		title = afr_empire_politics_state_manager_market_luxury_event.2.t
		desc = afr_empire_politics_state_manager_market_luxury_event.2.d
		picture = GFX_report_event_chinese_army_training
		is_triggered_only = yes
		
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.a
			trigger = {
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } }
					}
					else = { OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } }
					if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 25 compare = less_than }
						}
						OWNER = { has_tech = tribal_steel_tools }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 25 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = less_than }
						}
						OWNER = { has_tech = refining }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 100 compare = less_than }
						}
						OWNER = { has_tech = mechanized_mining }
					}
				}
			}
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_10_tooltip
				custom_effect_tooltip = afr_prosperity_mechanic_boom_cost_tooltip
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_minus_20_tooltip
			}
			FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_gold_stats }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_market_luxury_event.3 days = 180 trigger_for = controller } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						afr_empire_politics_state_gain_none = yes
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -10 } }
					}
					else = {
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -20 } }
					}
					set_state_flag = afr_empire_politics_state_economy_status_investment_flag
					set_state_flag = afr_empire_politics_state_luxury_gold_investment_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.b
			trigger = {
				FROM = { 
					NOT = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } }
					}
					else = { OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } }
					if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 25 compare = less_than }
						}
						OWNER = { has_tech = tribal_weapons }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 25 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 60 compare = less_than }
						}
						OWNER = { has_tech = traditional_mixed_arms }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 60 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 100 compare = less_than }
						}
						OWNER = { has_tech = infantry_weapons }
					}
				}
			}
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_10_tooltip
				custom_effect_tooltip = afr_prosperity_mechanic_boom_cost_tooltip
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_minus_20_tooltip
			}
			FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_ivory_stats }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_market_luxury_event.3 days = 180 trigger_for = controller } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						afr_empire_politics_state_gain_none = yes
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -10 } }
					}
					else = {
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -20 } }
					}
					set_state_flag = afr_empire_politics_state_economy_status_investment_flag
					set_state_flag = afr_empire_politics_state_luxury_ivory_investment_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.c
			trigger = {
				FROM = {
					NOT = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } 
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } }
					}
					else = { OWNER = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } }
					if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 25 compare = less_than }
						}
						OWNER = { has_tech = tribal_crop_planting }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 25 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 65 compare = less_than }
						}
						OWNER = { has_tech = tribal_crop_rotation }
					}
					else_if = {
						limit = { 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 65 compare = greater_than_or_equals } 
							check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 100 compare = less_than }
						}
						OWNER = { has_tech = mechanized_farming }
					}
				}
			}
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_10_tooltip
				custom_effect_tooltip = afr_prosperity_mechanic_boom_cost_tooltip
			}
			else = {
				custom_effect_tooltip = afr_prosperity_mechanic_minus_20_tooltip
			}
			FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_spice_stats }
			hidden_effect = {
				FROM = { 
					state_event = { id = afr_empire_politics_state_manager_market_luxury_event.3 days = 180 trigger_for = controller }
					if = {
						limit = { has_state_flag = afr_empire_politics_state_economy_status_boom_flag }
						afr_empire_politics_state_gain_none = yes
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -10 } }
					}
					else = {
						OWNER = { add_to_variable = { var = afr_prosperity_mechanic_value value = -20 } }
					}
					set_state_flag = afr_empire_politics_state_economy_status_investment_flag
					set_state_flag = afr_empire_politics_state_luxury_spice_investment_flag
				}
			}
		}
		option = {
			name = afr_empire_politics_state_manager_market_luxury_event.2.e
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_luxury_gold_requirements_has_tech_tooltip }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_luxury_ivory_requirements_has_tech_tooltip }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_luxury_spice_requirements_has_tech_tooltip }
			}
			if = {
				limit = { FROM = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_already_investing_tooltip }
			}
			else_if = {
				limit = {
					FROM = {
						has_state_flag = afr_empire_politics_state_economy_status_boom_flag
						OWNER = { NOT = { check_variable = { var = afr_prosperity_mechanic_value value = 10 compare = greater_than_or_equals } } } 
					} 
				}
				custom_effect_tooltip = afr_prosperity_mechanic_greater_than_10_tooltip
			}
			else_if = {
				limit = { FROM = { OWNER = { NOT = { check_variable = { var = afr_prosperity_mechanic_value value = 20 compare = greater_than_or_equals } } } } }
				custom_effect_tooltip = afr_prosperity_mechanic_greater_than_20_tooltip
			}
			custom_effect_tooltip = afr_empire_politics_state_manager_space_tooltip
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_gold_stats }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_ivory_stats }
			}
			if = {
				limit = { FROM = { check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 0 compare = greater_than } } }
				FROM = { custom_effect_tooltip = afr_empire_politics_state_manager_market_luxury_event_spice_stats }
			}
		}
	}
	#state_event = {
	#	id = afr_empire_politics_state_manager_market_luxury_event.3
	#	hidden = yes
	#	is_triggered_only = yes
	#	
	#	immediate = {
	#		OWNER = { country_event = { id = afr_empire_politics_state_manager_market_luxury_event.4 } }
	#	}
	#}
	state_event = {
		id = afr_empire_politics_state_manager_market_luxury_event.3
		hidden = yes
		is_triggered_only = yes
		
		immediate = {
			ROOT= {
				if = {
					limit = { has_state_flag = afr_empire_politics_state_economy_status_investment_flag }
					clr_state_flag = afr_empire_politics_state_economy_status_investment_flag
					if = {
						limit = { has_state_flag = afr_empire_politics_state_luxury_gold_investment_flag }
						clr_state_flag = afr_empire_politics_state_luxury_gold_investment_flag
						add_to_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 15 }
						clamp_variable = {
							var = afr_empire_politics_state_luxury_gold_acquisition_var
							min = 0
							max = 100
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -2 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 3 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -3 }
						}
						if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 100 compare = equals }
							}
							set_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 3 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 100 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 2 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 50 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_gold_acquisition_var value = 25 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 1 }
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 2 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_gold_prosperity_income value = 3 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 3 }
						}
						
					}
					else_if = {
						limit = { has_state_flag = afr_empire_politics_state_luxury_ivory_investment_flag }
						clr_state_flag = afr_empire_politics_state_luxury_ivory_investment_flag
						add_to_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 15 }
						clamp_variable = {
							var = afr_empire_politics_state_luxury_ivory_acquisition_var
							min = 0
							max = 100
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -2 }
						}
						if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 100 compare = equals }
							}
							set_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 2 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 100 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_ivory_acquisition_var value = 25 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 1 }
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_ivory_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 2 }
						}
					}
					else_if = {
						limit = { has_state_flag = afr_empire_politics_state_luxury_spice_investment_flag }
						clr_state_flag = afr_empire_politics_state_luxury_spice_investment_flag
						add_to_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 15 }
						clamp_variable = {
							var = afr_empire_politics_state_luxury_spice_acquisition_var
							min = 0
							max = 100
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = -2 }
						}
						if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 100 compare = equals }
							}
							set_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 2 }
						}
						else_if = {
							limit = {  
								check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 100 compare = less_than }
								check_variable = { var = afr_empire_politics_state_luxury_spice_acquisition_var value = 25 compare = greater_than_or_equals }
							}
							set_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 1 }
						}
						if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 1 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 1 }
						}
						else_if = {
							limit = { check_variable = { var = afr_empire_politics_state_spice_prosperity_income value = 2 compare = equals } }
							add_to_variable = { var = afr_empire_politics_state_prosperity_var value = 2 }
						}
					}
				}
			}
		}
	}
#################
#####Levy Events#
#################
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event_global.1
		is_triggered_only = yes
		hidden = yes
		
		immediate = {
			random_country = {
				limit = { exists = yes }
				random_list = {
					10 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 260 } }
					20 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 240 } }
					40 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 220 } }
					20 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 200 } }
					10 = { country_event = { id = afr_empire_politics_subject_levy_mission_event_global.1 days = 180 } }
				}
			}
			every_country = {
				limit = {
					OR = {
						afr_is_tribal = yes
						oceania_is_tribal = yes
					}
					OR = {
						has_autonomy_state = autonomy_afr_empire_level_1
						has_autonomy_state = autonomy_afr_empire_level_2
						has_autonomy_state = autonomy_afr_empire_level_3
						has_autonomy_state = autonomy_afr_empire_level_4
					}
					if = {
						limit = { is_subject = yes }
						OR = {
							OVERLORD = { has_idea = afr_large_kingdom }
							OVERLORD = { has_idea = afr_reforming_kingdom }
							OVERLORD = { has_idea = Oceania_large_kingdom }
							OVERLORD = { has_idea = Oceania_eastern_oriented_regional_power }
							OVERLORD = { has_idea = Oceania_western_oriented_regional_power }
						}
					}
				}
				random_list = {
					10 = { set_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					25 = { set_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					65 = { set_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				}
				activate_mission = afr_empire_politics_subject_levy_mission
			}
		}
	}
	
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.1
		is_triggered_only = yes
		hidden = yes
		
		immediate = {
			FROM = { country_event = { id = afr_empire_politics_subject_levy_mission_event.2 } }
		}
	}
	
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.2
		title = afr_empire_politics_subject_levy_mission_event.2.t
		desc = afr_empire_politics_subject_levy_mission_event.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.2.a
			trigger = {
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					check_variable = { Tribal_horse_army_num > 3000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					check_variable = { Tribal_horse_army_num > 2000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
					check_variable = { Tribal_horse_army_num > 1000 }
				}
			}
			ai_chance = { factor = 100 }
			OVERLORD = { country_event = { id = afr_empire_politics_subject_levy_mission_event.3 days = 3 } }
			set_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
				custom_effect_tooltip= EDC_remove_3000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = -3000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
				custom_effect_tooltip= EDC_remove_2000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = -2000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				custom_effect_tooltip= EDC_remove_1000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = -1000}
			}
		}
		option = {
			name = afr_empire_politics_subject_levy_mission_event.2.b
			trigger = {
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					check_variable = { Tribal_army_num > 6000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					check_variable = { Tribal_army_num > 4000 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
					check_variable = { Tribal_army_num > 2000 }
				}
			}
			ai_chance = { factor = 100 }
			OVERLORD = { country_event = { id = afr_empire_politics_subject_levy_mission_event.3 days = 3 } }
			set_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
				custom_effect_tooltip= EDC_remove_6000_to_tribal_army
				add_to_variable = {Tribal_army_num = -6000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
				custom_effect_tooltip= EDC_remove_4000_to_tribal_army
				add_to_variable = {Tribal_army_num = -4000}
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				custom_effect_tooltip= EDC_remove_2000_to_tribal_army
				add_to_variable = {Tribal_army_num = -2000}
			}
		}
		option = {
			name = afr_empire_politics_subject_levy_mission_event.2.c
			trigger = {
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
					check_variable = { afr_prosperity_mechanic_value > 8 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
					check_variable = { afr_prosperity_mechanic_value > 5 }
				}
				if = {
					limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
					check_variable = { afr_prosperity_mechanic_value > 2 }
				}
			}
			ai_chance = { factor = 100 }
			OVERLORD = { country_event = { id = afr_empire_politics_subject_levy_mission_event.3 days = 3 } }
			set_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_9
				add_to_variable = { var = afr_prosperity_mechanic_value value = -9 }
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_6
				add_to_variable = { var = afr_prosperity_mechanic_value value = -6 }
			}
			if = {
				limit = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag }
				custom_effect_tooltip = afr_prosperity_mechanic_minus_3
				add_to_variable = { var = afr_prosperity_mechanic_value value = -3 }
			}
		}

	}
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.3
		title = afr_empire_politics_subject_levy_mission_event.3.t
		desc = afr_empire_politics_subject_levy_mission_event.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.3.a
			trigger = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_large_flag } }
			ai_chance = { factor = 100 }
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_horse_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_3000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = 3000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_6000_to_tribal_army
				add_to_variable = {Tribal_army_num = 6000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_add_9
				add_to_variable = { var = afr_prosperity_mechanic_value value = 9 }
			}
			hidden_effect = {
				FROM = {
					clr_country_flag = afr_empire_politics_subject_levy_mission_large_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
				}
			}
		}
		
		option = {
			name = afr_empire_politics_subject_levy_mission_event.3.a
			trigger = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_medium_flag } }
			ai_chance = { factor = 100 }
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_horse_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_2000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = 2000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_4000_to_tribal_army
				add_to_variable = {Tribal_army_num = 4000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_add_6
				add_to_variable = { var = afr_prosperity_mechanic_value value = 6 }
			}
			hidden_effect = {
				FROM = {
					clr_country_flag = afr_empire_politics_subject_levy_mission_medium_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
				}
			}
		}
		
		option = {
			name = afr_empire_politics_subject_levy_mission_event.3.a
			trigger = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_small_flag } }
			ai_chance = { factor = 100 }
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_horse_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_1000_to_tribal_horse_army
				add_to_variable = {Tribal_horse_army_num = 1000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag } }
				if={ limit={ NOT={has_idea = AF_T_Tribal_Army} } add_ideas={AF_T_Tribal_Army} }
				custom_effect_tooltip= EDC_levy_2000_to_tribal_army
				add_to_variable = {Tribal_army_num = 2000}
			}
			if = {
				limit = { FROM = { has_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag } }
				custom_effect_tooltip = afr_prosperity_mechanic_add_3
				add_to_variable = { var = afr_prosperity_mechanic_value value = 3 }
			}
			hidden_effect = {
				FROM = {
					clr_country_flag = afr_empire_politics_subject_levy_mission_small_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_horse_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_warrior_flag
					clr_country_flag = afr_empire_politics_subject_levy_mission_prosperity_flag
				}
			}
		}

	}

	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.4
		title = afr_empire_politics_subject_levy_mission_event.4.t
		desc = afr_empire_politics_subject_levy_mission_event.4.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.4.a
			ai_chance = { factor = 100 }
			FROM = { country_event = { id = afr_empire_politics_subject_levy_mission_event.5 days = 3 } }
		}

	}
	country_event = {
		id = afr_empire_politics_subject_levy_mission_event.5
		title = afr_empire_politics_subject_levy_mission_event.5.t
		desc = afr_empire_politics_subject_levy_mission_event.5.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_levy_mission_event.5.a
			ai_chance = { factor = 100 }
			add_autonomy_score = {
				value = -200
				localization = afr_empire_politics_subject_levy_mission_failed_tooltip
			}
		}

	}
	
	country_event = {
		id = afr_empire_politics_subject_send_tribute_to_overlord_event.1
		title = afr_empire_politics_subject_send_tribute_to_overlord_event.1.t
		desc = afr_empire_politics_subject_send_tribute_to_overlord_event.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_send_tribute_to_overlord_event.1.a
			ai_chance = { factor = 100 }
			custom_effect_tooltip = afr_prosperity_mechanic_add_10
			add_to_variable = { var = afr_prosperity_mechanic_value value = 10 }
			FROM = { country_event = { id = afr_empire_politics_subject_send_tribute_to_overlord_event.2 days = 3 } }
		}

	}
	country_event = {
		id = afr_empire_politics_subject_send_tribute_to_overlord_event.2
		title = afr_empire_politics_subject_send_tribute_to_overlord_event.2.t
		desc = afr_empire_politics_subject_send_tribute_to_overlord_event.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_empire_politics_subject_send_tribute_to_overlord_event.2.a
			trigger = { 
				OR = {
					NOT = { has_government = fundamentalism }
					NOT ={ is_in_array = { array = national_religion_array value = global.sunni } }
				}
			}
			ai_chance = { factor = 100 }
			add_autonomy_score = {
				value = 200
				localization = afr_empire_politics_subject_send_tribute_to_overlord_tooltip
			}
		}
		
		option = {
			name = afr_empire_politics_subject_send_tribute_to_overlord_event.2.b
			trigger = { 
				has_government = fundamentalism
				is_in_array = { array = national_religion_array value = global.sunni }
			}
			ai_chance = { factor = 100 }
			add_autonomy_score = {
				value = 200
				localization = afr_empire_politics_subject_send_tribute_to_overlord_tooltip
			}
		}
	}

	country_event = {
		id = afr_request_overlord_assistance.22
		title = afr_request_overlord_assistance.22.t
		desc = afr_request_overlord_assistance.22.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.22.a
			ai_chance = { factor = 100 }
			MOM = { country_event = { id = afr_request_overlord_assistance.32 } }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.32
		title = afr_request_overlord_assistance.32.t
		desc = afr_request_overlord_assistance.32.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.32.a
			ai_chance = { factor = 100 }
			GLD = { country_event = { id = EDC_afr.46 } }
		}

	}


	country_event = {
		id = afr_request_overlord_assistance.1
		title = afr_request_overlord_assistance.1.t
		desc = afr_request_overlord_assistance.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.1.a
			trigger = {
				FROM = { is_neighbor_of = ROOT }
			}
			ai_chance = {
				factor = 100
			}
			custom_effect_tooltip = afr_request_overlord_assistance_defensive
			FROM = {country_event = { id = afr_request_overlord_assistance.2 }}
			hidden_effect = {
				every_country = {
					limit = {
						has_offensive_war_with = FROM
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = FROM
							enemy = PREV
							hostility_reason = asked_to_join
						}
					}
				}
			}
		}

		option = {
			name = afr_request_overlord_assistance.1.b
			trigger = {
				NOT = { FROM = { is_neighbor_of = ROOT } }
			}
			ai_chance = {
				factor = 100
			}
			FROM = {country_event = { id = afr_request_overlord_assistance.3 }}
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.2
		title = afr_request_overlord_assistance.2.t
		desc = afr_request_overlord_assistance.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.2.a
			ai_chance = { factor = 100 }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.3
		title = afr_request_overlord_assistance.3.t
		desc = afr_request_overlord_assistance.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.3.a
			ai_chance = { factor = 100 }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.4
		title = afr_request_overlord_assistance.4.t
		desc = afr_request_overlord_assistance.4.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.4.a
			trigger = {
				FROM = { is_neighbor_of = ROOT }
			}
			ai_chance = {
				factor = 100
			}
			custom_effect_tooltip = afr_request_overlord_assistance_offensive
			FROM = {country_event = { id = afr_request_overlord_assistance.5 }}
			hidden_effect = {
				every_country = {
					limit = {
						has_defensive_war_with = FROM
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = FROM
							enemy = PREV
							hostility_reason = asked_to_join
						}
					}
				}
			}

		}

		option = {
			name = afr_request_overlord_assistance.4.b
			trigger = {
				NOT = { FROM = { is_neighbor_of = ROOT } }
			}
			ai_chance = {
				factor = 100
			}
			FROM = {country_event = { id = afr_request_overlord_assistance.6 }}
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.5
		title = afr_request_overlord_assistance.5.t
		desc = afr_request_overlord_assistance.5.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.5.a
			ai_chance = { factor = 100 }
		}

	}

	country_event = {
		id = afr_request_overlord_assistance.6
		title = afr_request_overlord_assistance.6.t
		desc = afr_request_overlord_assistance.6.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_request_overlord_assistance.6.a
			ai_chance = { factor = 100 }
		}

	}


	country_event = {
		id = afr_war_exhaustion_exertion.1
		title = afr_war_exhaustion_exertion.1.t
		desc = afr_war_exhaustion_exertion.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		#Keep Fighting
		option = {
			name = afr_war_exhaustion_exertion.1.a
			ai_chance = { factor = 100 }
			trigger = {
				check_variable = { afr_war_exhaustion_value < 30 }
			}

		}
		#Stress The Economy
		option = {
			name = afr_war_exhaustion_exertion.1.b
			ai_chance = { factor = 50 }
			trigger = {
				check_variable = { afr_war_exhaustion_value > 29 }
				check_variable = { afr_war_exhaustion_value < 40 }
			}
			custom_effect_tooltip = afr_war_exhaustion_value_minus_5
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = -5
			}
			add_stability = -0.005
		}
		#Desperate Measures
		option = {
			name = afr_war_exhaustion_exertion.1.c
			ai_chance = { factor = 25 }
			trigger = {
				check_variable = { afr_war_exhaustion_value > 39 }
			}
			custom_effect_tooltip = afr_war_exhaustion_value_minus_3
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = -3
			}
			add_stability = -0.025
		}
		#white peace
		option = {
			name = afr_war_exhaustion_exertion.1.e
			ai_chance = {
				factor = 10
				modifier = {
					factor = 2
					check_variable = { afr_war_exhaustion_value > 30 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								surrender_progress > 0.20
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 2
					check_variable = { afr_war_exhaustion_value > 40 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								surrender_progress > 0.20
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 10
					check_variable = { afr_war_exhaustion_value > 49 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								surrender_progress > 0.20
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 10
					check_variable = { afr_war_exhaustion_value > 20 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								OR = {
									surrender_progress > 0.20
									any_owned_state = {
										is_claimed_by = ROOT
									}
									any_owned_state = {
										is_core_of = ROOT
									}
								}
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
				modifier = {
					factor = 200
					check_variable = { afr_war_exhaustion_value > 9 }
					if = {
						limit = {
							any_enemy_country = {
								has_defensive_war_with = ROOT
								OR = {
									surrender_progress > 0.05
									any_owned_state = {
										is_claimed_by = ROOT
									}
									any_owned_state = {
										is_core_of = ROOT
									}
								}
							}
						}
						always = no
					}
					else = {
						always = yes
					}
				}
			}
			trigger = {
				has_offensive_war = yes
				surrender_progress < 0.10
			}
			every_country = {
				limit = { has_defensive_war_with = ROOT }
				white_peace = ROOT
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_country_flag = SKT_WDD_Joint_War_KAN
							has_country_flag = SKT_WDD_Joint_War_BAG_Buffer
							has_country_flag = SKT_WDD_Joint_War_Buffer
							has_country_flag = SKT_WDD_Joint_War_BAG

						}
					}
					clr_country_flag = SKT_WDD_Joint_War_KAN
					clr_country_flag = SKT_WDD_Joint_War_BAG_Buffer
					clr_country_flag = SKT_WDD_Joint_War_Buffer
					clr_country_flag = SKT_WDD_Joint_War_BAG
				}
			}
		}
	}


	country_event = {
		id = afr_integration_tribe_warning.1
		title = afr_integration_tribe_warning.1.t
		desc = afr_integration_tribe_warning.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_warning.1.a
			ai_chance = {
				factor = 30
			}
			add_war_support = 0.075
			add_timed_idea = {
				idea = afr_integration_tribe_warning_idea
				days = 180
			}
		}
		option = {
			name = afr_integration_tribe_warning.1.b
			ai_chance = { factor = 35 }
			trigger = {
				check_variable = { Tribal_army_num > 2000 }
			}
			hidden_effect = {
				random_list = {
					45 = { set_country_flag = afr_raid_supplies_outcome_1 }
					30 = { set_country_flag = afr_raid_supplies_outcome_2 }
					25 = { set_country_flag = afr_raid_supplies_outcome_3 }
				}
			}
			custom_effect_tooltip= afr_tribal_send_500_army_raid_supply
			add_to_variable = {Tribal_army_num = -500}
			add_timed_idea = {
				idea = afr_integration_tribe_warning_idea
				days = 180
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.1 days = 15 } } }
		}
		option = {
			name = afr_integration_tribe_warning.1.c
			ai_chance = { factor = 35 }
			trigger = {
				OR = {
					has_country_flag = afr_integration_tribe_poison_provisions_spy
					check_variable = { Tribal_army_num > 2000 }
				}
			}
			hidden_effect = {
				random_list = {
					35 = { set_country_flag = afr_poison_provisions_outcome_1 }
					40 = { set_country_flag = afr_poison_provisions_outcome_2 }
					25 = { set_country_flag = afr_poison_provisions_outcome_3 }
				}
			}
			add_timed_idea = {
				idea = afr_integration_tribe_warning_idea
				days = 180
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.1 days = 15 } } }
		}
	}

	country_event = {
		id = afr_integration_tribe_raid_supply.1
		title = afr_integration_tribe_raid_supply.1.t
		desc = afr_integration_tribe_raid_supply.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_raid_supply.1.a
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_raid_supplies_outcome_1 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_raid_supply.1.b
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_raid_supplies_outcome_2 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_raid_supply.1.c
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_raid_supplies_outcome_3 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_raid_supply.2 days = 1 } } }
		}
	}

	country_event = {
		id = afr_integration_tribe_raid_supply.2
		title = afr_integration_tribe_raid_supply.2.t
		desc = afr_integration_tribe_raid_supply.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_raid_supply.2.a
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_raid_supplies_outcome_1
			}
			FROM = {
				add_timed_idea = {
					idea = afr_integration_tribe_raid_supply_weak_idea
					days = 120
				}
			}
			clr_country_flag = afr_raid_supplies_outcome_1
			custom_effect_tooltip= afr_tribal_lost_200_army_raid_supply
			add_to_variable = {Tribal_army_num = -200}
			add_equipment_to_stockpile = {
				type = tribal_weapons_0
				amount = 150
			}
		}

		option = {
			name = afr_integration_tribe_raid_supply.2.b
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_raid_supplies_outcome_2
			}
			FROM = {
				add_timed_idea = {
					idea = afr_integration_tribe_raid_supply_strong_idea
					days = 120
				}
			}
			custom_effect_tooltip= afr_tribal_lost_100_army_raid_supply
			add_to_variable = {Tribal_army_num = -100}
			clr_country_flag = afr_raid_supplies_outcome_2
			add_equipment_to_stockpile = {
				type = tribal_weapons_0
				amount = 500
			}
		}

		option = {
			name = afr_integration_tribe_raid_supply.2.c
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_raid_supplies_outcome_3
			}
			custom_effect_tooltip= afr_tribal_lost_400_army_raid_supply
			add_to_variable = {Tribal_army_num = -400}
			clr_country_flag = afr_raid_supplies_outcome_3
		}
	}

	country_event = {
		id = afr_integration_tribe_poison_provisions.1
		title = afr_integration_tribe_poison_provisions.1.t
		desc = afr_integration_tribe_poison_provisions.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_poison_provisions.1.a
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_poison_provisions_outcome_1 }
			}
			custom_effect_tooltip= afr_tribal_lost_500_army_poison_provisions
			add_to_variable = {Tribal_army_num = -500}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_poison_provisions.1.b
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_poison_provisions_outcome_2 }
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.2 days = 1 } } }
		}
		option = {
			name = afr_integration_tribe_poison_provisions.1.c
			ai_chance = { factor = 100 }
			trigger = {
				FROM = { has_country_flag = afr_poison_provisions_outcome_3 }
			}
			custom_effect_tooltip= afr_tribal_lost_2000_army_poison_provisions
			add_to_variable = {Tribal_army_num = -2000}
			clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			clr_country_flag = afr_inward_preparing_expansion_war_flag
			ROOT = {
				add_ai_strategy = {
					type = prepare_for_war
					id = FROM
					value = -200
				}
			}
			FROM = {
				add_ai_strategy = {
					type = prepare_for_war
					id = ROOT
					value = -200
				}
			}
			hidden_effect = { FROM = { country_event = { id = afr_integration_tribe_poison_provisions.2 days = 1 } } }
		}
	}

	country_event = {
		id = afr_integration_tribe_poison_provisions.2
		title = afr_integration_tribe_poison_provisions.2.t
		desc = afr_integration_tribe_poison_provisions.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_integration_tribe_poison_provisions.2.a
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_poison_provisions_outcome_1
			}
			FROM = {
				add_timed_idea = {
					idea = afr_integration_tribe_poison_provisions_idea
					days = 120
				}
			}
			clr_country_flag = afr_poison_provisions_outcome_1
		}

		option = {
			name = afr_integration_tribe_poison_provisions.2.b
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_poison_provisions_outcome_2
			}
			clr_country_flag = afr_poison_provisions_outcome_2
		}

		option = {
			name = afr_integration_tribe_poison_provisions.2.c
			ai_chance = { factor = 100 }
			trigger = {
				has_country_flag = afr_poison_provisions_outcome_3
			}
			clr_country_flag = afr_poison_provisions_outcome_3
		}
	}


	country_event = {
		id = afr_caliphate_integration_tribe.1
		title = afr_caliphate_integration_tribe.1.t
		desc = afr_caliphate_integration_tribe.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_tribe.1.a
			trigger = {
				AND = {
					NOT = {
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}
					}
					NOT = { has_government = fundamentalism }
				}
			}
			ai_chance = {
				factor = 10
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_2
						freedom_level = 0.3
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_caliphate_integration_tribe.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				ROOT = { 
					set_variable = { var = afr_empire_subject_overlord value = FROM.id }
					set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 }
					clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
				}
			}
		}

		option = {
			name = afr_caliphate_integration_tribe.1.b
			trigger = {
				AND = {
					NOT = {
						is_in_array = {
							array = national_religion_array
							value = global.sunni
						}
					}
					NOT = { has_government = fundamentalism }
				}
			}
			ai_chance = {
				factor = 90
				modifier = {
					factor = 0
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_tribe.2 days = 45 } }
		}

		option = {
			name = afr_caliphate_integration_tribe.1.c
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				factor = 60
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_2
						freedom_level = 0.3
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_caliphate_integration_tribe.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				ROOT = { 
					set_variable = { var = afr_empire_subject_overlord value = FROM.id }
					set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 }
					clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
				}
			}
		}

		option = {
			name = afr_caliphate_integration_tribe.1.e
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				factor = 30
				modifier = {
					factor = 0
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_tribe.2 days = 45 } }
		}

	}

	country_event = {
		id = afr_caliphate_integration_tribe.2
		title = afr_caliphate_integration_tribe.2.t
		desc = afr_caliphate_integration_tribe.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_tribe.2.a
			ai_chance = { factor = 90 }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			}
			FROM = { every_owned_state = { add_claim_by = ROOT } }
			custom_effect_tooltip = afr_war_exhaustion_value_add_10
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 10
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

		option = {
			name = afr_caliphate_integration_tribe.2.b
			ai_chance = { factor = 10 }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_caliphate_integration_tribe.3
		title = SKT_sunni_integration.3.t
		desc = SKT_sunni_integration.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = SKT_sunni_integration.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
		}

	}

	country_event = {
		id = afr_caliphate_integration_kingdom.1
		title = afr_caliphate_integration_kingdom.1.t
		desc = afr_caliphate_integration_kingdom.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_kingdom.1.a
			trigger = {
				NOT = {
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			ai_chance = {
				factor = 10
			}
			hidden_effect = { FROM = { clr_country_flag = afr_jihadist_preparing_caliphate_war_flag } }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_4
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				ROOT = { 
					set_variable = { var = afr_empire_subject_overlord value = FROM.id }
					set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
					clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
				}
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.b
			trigger = {
				NOT = {
					is_in_array = {
						array = national_religion_array
						value = global.sunni
					}
				}
			}
			ai_chance = {
				factor = 90
				modifier = {
					factor = 0
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_kingdom.2 days = 45 } }
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.c
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				factor = 60
			}
			hidden_effect = { FROM = { clr_country_flag = afr_jihadist_preparing_caliphate_war_flag } }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_4
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				ROOT = { 
					set_variable = { var = afr_empire_subject_overlord value = FROM.id }
					set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
					clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
				}
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.e
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				has_government = fundamentalism
			}
			ai_chance = {
				factor = 30
				modifier = {
					factor = 0
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_kingdom.2 days = 45 } }
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.c
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				NOT = { has_government = fundamentalism }
			}
			ai_chance = {
				factor = 30
			}
			hidden_effect = { FROM = { clr_country_flag = afr_jihadist_preparing_caliphate_war_flag } }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_4
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				ROOT = { 
					set_variable = { var = afr_empire_subject_overlord value = FROM.id }
					set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
					clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
				}
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.1.e
			trigger = {
				is_in_array = {
					array = national_religion_array
					value = global.sunni
				}
				NOT = { has_government = fundamentalism }
			}
			ai_chance = {
				factor = 60
				modifier = {
					factor = 0
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_kingdom.2 days = 45 } }
		}

	}

	country_event = {
		id = afr_caliphate_integration_kingdom.2
		title = afr_caliphate_integration_kingdom.2.t
		desc = afr_caliphate_integration_kingdom.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_kingdom.2.a
			ai_chance = { factor = 90 }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
			}
			#FROM = { every_owned_state = { add_claim_by = ROOT } }
			custom_effect_tooltip = afr_war_exhaustion_value_add_15
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 15
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

		option = {
			name = afr_caliphate_integration_kingdom.2.b
			ai_chance = { factor = 10 }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_caliphate_integration_kingdom.3
		title = afr_caliphate_integration_kingdom.3.t
		desc = afr_caliphate_integration_kingdom.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_caliphate_integration_kingdom.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_jihadist_preparing_caliphate_war_flag
		}

	}



	country_event = {
		id = afr_inward_integration_tribe_warning.1
		title = afr_inward_integration_tribe_warning.1.t
		desc = afr_inward_integration_tribe_warning.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe_warning.1.a
			ai_chance = { factor = 100 }
			add_war_support = 0.075
		}
	}

	country_event = {
		id = afr_inward_integration_tribe.1
		title = afr_inward_integration_tribe.1.t
		desc = afr_inward_integration_tribe.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe.1.a
			ai_chance = {
				factor = 10
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_2
						freedom_level = 0.3
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_caliphate_integration_tribe.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				ROOT = { 
					set_variable = { var = afr_empire_subject_overlord value = FROM.id }
					set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 5 }
					clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
				}
			}
		}

		option = {
			name = afr_inward_integration_tribe.1.b
			ai_chance = {
				factor = 90
				modifier = {
					factor = 0
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_caliphate_integration_tribe.2 days = 45 } }
		}

	}

	country_event = {
		id = afr_inward_integration_tribe.2
		title = afr_inward_integration_tribe.2.t
		desc = afr_inward_integration_tribe.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe.2.a
			ai_chance = { factor = 90 }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_inward_preparing_expansion_war_flag
			}
			FROM = { every_owned_state = { add_claim_by = ROOT } }
			custom_effect_tooltip = afr_war_exhaustion_value_add_10
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 10
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

		option = {
			name = afr_inward_integration_tribe.2.b
			ai_chance = { factor = 10 }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_inward_preparing_expansion_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_inward_integration_tribe.3
		title = afr_inward_integration_tribe.3.t
		desc = afr_inward_integration_tribe.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_tribe.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_inward_preparing_expansion_war_flag
		}

	}

	country_event = {
		id = afr_inward_integration_kingdom.1
		title = afr_inward_integration_kingdom.1.t
		desc = afr_inward_integration_kingdom.1.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_kingdom.1.a
			ai_chance = {
				factor = 10
			}
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Waking the Tiger"
						has_dlc = "Death or Dishonor"
					}
				}
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_afr_empire_level_4
						freedom_level = 0.80
					}
				}
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			else = {
				hidden_effect = { ROOT = { store_current_ideologies = yes } }
				FROM = { puppet = ROOT }
				hidden_effect = { ROOT = { load_prevous_ideologies = yes } }
			}
			FROM = { country_event = { id = afr_inward_integration_kingdom.3 } }
			if = {
				limit = { 
					FROM = { afr_is_tribal = yes } #OVERLORD
					ROOT = { afr_is_tribal = yes } #SUBJECT
					ROOT = { NOT = { has_variable = ROOT.afr_empire_subject_loyalty_var@FROM } } 
				}
				ROOT = { 
					set_variable = { var = afr_empire_subject_overlord value = FROM.id }
					set_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM value = 6 }
					clamp_variable = { var = ROOT.afr_empire_subject_loyalty_var@FROM min = -1 max = 10 }
				}
			}
		}

		option = {
			name = afr_inward_integration_kingdom.1.b
			ai_chance = {
				factor = 90
				modifier = {
					factor = 0
					AND = {
						ROOT = { has_army_size = { size < 5 } }
						ROOT = { check_variable = { Tribal_army_num < 4999 } }
					}
				}
			}
			custom_effect_tooltip = SKT_sunni_integration_tooltip
			FROM = { country_event = { id = afr_inward_integration_kingdom.2 days = 45 } }
		}

	}

	country_event = {
		id = afr_inward_integration_kingdom.2
		title = afr_inward_integration_kingdom.2.t
		desc = afr_inward_integration_kingdom.2.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_kingdom.2.a
			ai_chance = { factor = 90 }
			ROOT = {
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				clr_country_flag = afr_inward_preparing_expansion_war_flag
			}
			#FROM = { every_owned_state = { add_claim_by = ROOT } }
			custom_effect_tooltip = afr_war_exhaustion_value_add_15
			add_to_variable = {
				var = afr_war_exhaustion_value
				value = 15
			}
			hidden_effect = {
				set_variable = { ROOT.afr_regional_power_expansion_attacker@FROM = 1 }
				set_variable = { FROM.afr_regional_power_expansion_defender@ROOT = 1 }
			}
		}

		option = {
			name = afr_inward_integration_kingdom.2.b
			ai_chance = { factor = 10 }
			hidden_effect = {
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = FROM
						value = -200
					}
					clr_country_flag = afr_inward_preparing_expansion_war_flag
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -200
					}
				}
			}
		}

	}

	country_event = {
		id = afr_inward_integration_kingdom.3
		title = afr_inward_integration_kingdom.3.t
		desc = afr_inward_integration_kingdom.3.d
		picture = GFX_report_event_chinese_army_training

		is_triggered_only = yes

		option = {
			name = afr_inward_integration_kingdom.3.a
			ai_chance = { factor = 100 }
			clr_country_flag = afr_inward_preparing_expansion_war_flag
		}

	}
